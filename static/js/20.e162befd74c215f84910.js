webpackJsonp([20],{507:function(n,t,e){function a(n){e(811)}var i=e(1)(e(682),e(910),a,"data-v-413207cc",null);n.exports=i.exports},519:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var a=e(2),i=(e.n(a),e(17)),o=e.n(i),c=function(n,t){return t.vv=6,o.a.get(n,t).then(function(n){if(0==n.data.resultCode)return n.data;s(n.data.resultMsg)})},r=function(n,t){return o.a.post(n,t,{vv:6}).then(function(n){if(0==n.data.resultCode)return n.data;s(n.data.resultMsg)})},s=function(n){e.i(a.Toast)({message:n,position:"bottom",duration:3e3})};t.b=c},520:function(n,t,e){function a(n){e(523)}var i=e(1)(e(521),e(524),a,"data-v-d8466530",null);n.exports=i.exports},521:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{btnShow:String,titleText:String,url:String,isComponents:{type:Boolean,default:!1},headRightObj:{showWhat:"",text:""}},data:function(){return{}},methods:{goback:function(){this.isComponents?this.$emit("emitGoback"):this.$router.push(this.url)},rightFun:function(){this.$emit("emitHeadRight")}}}},522:function(n,t,e){t=n.exports=e(455)(!0),t.push([n.i,".content-header[data-v-d8466530]{height:46px;width:100%;background-color:#393c41;color:#fff;font-size:16px;position:fixed;top:0;z-index:9}.content-header .content-goback[data-v-d8466530],.content-header[data-v-d8466530]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.content-header .content-goback[data-v-d8466530]{position:absolute;left:0;top:10px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.content-header .content-goback .goback-icon[data-v-d8466530]{margin-left:13px}.content-header .content-goback .goback-text[data-v-d8466530]{font-size:16px}.content-header .title[data-v-d8466530]{font-size:18px;-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center}.content-header .content-right[data-v-d8466530]{position:absolute;right:15px;top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.content-header .content-right .icon-beizhu[data-v-d8466530]{font-size:18px}","",{version:3,sources:["E:/works/vue/mipos-front/src/components/common/mobileOrdering/headerUsually.vue"],names:[],mappings:"AACA,iCACE,YAAa,AACb,WAAY,AACZ,yBAA0B,AAO1B,WAAY,AACZ,eAAgB,AAChB,eAAgB,AAChB,MAAS,AACT,SAAW,CACZ,AACD,kFAZE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAoB7B,AAbD,iDACE,kBAAmB,AACnB,OAAQ,AACR,SAAU,AAIV,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CAIjC,AACD,8DACE,gBAAkB,CACnB,AACD,8DACE,cAAgB,CACjB,AACD,wCACE,eAAgB,AAChB,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,iBAAmB,CACpB,AACD,gDACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B,AACD,6DACE,cAAgB,CACjB",file:"headerUsually.vue",sourcesContent:["\n.content-header[data-v-d8466530] {\n  height: 46px;\n  width: 100%;\n  background-color: #393c41;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  color: #fff;\n  font-size: 16px;\n  position: fixed;\n  top: 0px;\n  z-index: 9;\n}\n.content-header .content-goback[data-v-d8466530] {\n  position: absolute;\n  left: 0;\n  top: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.content-header .content-goback .goback-icon[data-v-d8466530] {\n  margin-left: 13px;\n}\n.content-header .content-goback .goback-text[data-v-d8466530] {\n  font-size: 16px;\n}\n.content-header .title[data-v-d8466530] {\n  font-size: 18px;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  text-align: center;\n}\n.content-header .content-right[data-v-d8466530] {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.content-header .content-right .icon-beizhu[data-v-d8466530] {\n  font-size: 18px;\n}\n"],sourceRoot:""}])},523:function(n,t,e){var a=e(522);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e(456)("bae06bf4",a,!0)},524:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"content-header"},["true"==n.btnShow?e("div",{staticClass:"content-goback",on:{click:function(t){n.goback()}}},[e("div",{staticClass:"iconfont icon-jiantouzuo goback-icon"}),n._v(" "),e("span",{staticClass:"goback-text"},[n._v("返回")])]):n._e(),n._v(" "),e("div",{staticClass:"title"},[n._v(n._s(n.titleText))]),n._v(" "),e("div",{staticClass:"content-right",on:{click:function(t){n.rightFun()}}},[n.headRightObj&&"kitchenInfo"==n.headRightObj.showWhat?e("span",{staticClass:"iconfont icon-beizhu"}):n._e()])])},staticRenderFns:[]}},536:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e(213),i=e.n(a),o=e(214),c=e.n(o),r=e(211),s=e.n(r),A=e(212),d=e.n(A),l=(e(519),e(31));t.default={props:{},data:function(){return{details:[],needPayAmounts:0}},computed:d()({},e.i(l.b)({selectedTableInfo:function(n){return n.mobileOrdering.selectedTableInfo},masterInfo:function(n){return n.mobileOrdering.masterInfo}})),created:function(){var n=this;return s()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.needPayAmounts=c()(n.masterInfo.needPayAmounts),n.details=n.masterInfo.details,n.$emit("emitConsumptionDetails",n.needPayAmounts);case 3:case"end":return t.stop()}},t,n)}))()},filters:{orderTime:function(n){return n.replace(/-/g,"/").substring(2)}}}},537:function(n,t,e){t=n.exports=e(455)(!0),t.push([n.i,".contaier-consumptionDetails[data-v-47adfff1]{background-color:#393c41;padding-bottom:10px}.contaier-consumptionDetails .list[data-v-47adfff1]{width:100%;padding:10px 15px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#545967;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.contaier-consumptionDetails .list .item[data-v-47adfff1]{font-size:14px;color:#fff;text-align:left;letter-spacing:-.5px}.contaier-consumptionDetails .list .activeItem[data-v-47adfff1]{color:#c6af6c}.contaier-consumptionDetails .list .flex56[data-v-47adfff1]{width:57%}.contaier-consumptionDetails .list .flex44[data-v-47adfff1]{width:43%}","",{version:3,sources:["E:/works/vue/mipos-front/src/components/common/mobileOrdering/consumptionDetails.vue"],names:[],mappings:"AACA,8CACE,yBAA0B,AAC1B,mBAAqB,CACtB,AACD,oDACE,WAAY,AACZ,kBAAmB,AACnB,8BAA+B,AACvB,sBAAuB,AAC/B,yBAA0B,AAC1B,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,mBAAoB,AAChB,cAAgB,CACrB,AACD,0DACE,eAAgB,AAChB,WAAe,AACf,gBAAiB,AACjB,oBAAuB,CACxB,AACD,gEACE,aAAe,CAChB,AACD,4DACE,SAAW,CACZ,AACD,4DACE,SAAW,CACZ",file:"consumptionDetails.vue",sourcesContent:["\n.contaier-consumptionDetails[data-v-47adfff1] {\n  background-color: #393c41;\n  padding-bottom: 10px;\n}\n.contaier-consumptionDetails .list[data-v-47adfff1] {\n  width: 100%;\n  padding: 10px 15px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-color: #545967;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.contaier-consumptionDetails .list .item[data-v-47adfff1] {\n  font-size: 14px;\n  color: #ffffff;\n  text-align: left;\n  letter-spacing: -0.5px;\n}\n.contaier-consumptionDetails .list .activeItem[data-v-47adfff1] {\n  color: #c6af6c;\n}\n.contaier-consumptionDetails .list .flex56[data-v-47adfff1] {\n  width: 57%;\n}\n.contaier-consumptionDetails .list .flex44[data-v-47adfff1] {\n  width: 43%;\n}\n"],sourceRoot:""}])},538:function(n,t,e){var a=e(537);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e(456)("672218e6",a,!0)},539:function(n,t,e){function a(n){e(538)}var i=e(1)(e(536),e(540),a,"data-v-47adfff1",null);n.exports=i.exports},540:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"contaier-consumptionDetails"},[e("div",{staticClass:"list"},n._l(n.details,function(t,a){return e("div",{key:a,staticClass:"item",class:[a%2==0?"flex56":"flex44",t.payAmounts?"activeItem":""]},[e("span",[n._v(n._s(t.text)+":")]),n._v(" "),t.orderTime?e("span",[n._v(n._s(n._f("orderTime")(t.value)))]):e("span",[n._v(n._s(t.value))])])}))])},staticRenderFns:[]}},682:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e(213),i=e.n(a),o=e(211),c=e.n(o),r=e(212),s=e.n(r),A=e(519),d=e(2),l=(e.n(d),e(31)),f=e(520),u=e.n(f),p=e(539),C=e.n(p);t.default={components:{headerUsually:u.a,consumptionDetails:C.a},data:function(){return{income:"",cardNumber:"",remarks:"",payCode:"",needPayAmounts:0,codeUrl:""}},computed:s()({},e.i(l.b)({selectedTableInfo:function(n){return n.mobileOrdering.selectedTableInfo}})),created:function(){var n=this;return c()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.getbarcode(),n.payCode=n.$route.params.payCode;case 2:case"end":return t.stop()}},t,n)}))()},methods:{getbarcode:_.debounce(function(){var n=plus.webview.getLaunchWebview(),t=this;window.barback=function(n){console.log("a:",n),t.cardNumber=n},n.evalJS("getcardCode()")},500,!0),consumptionDetailsFun:function(n){this.needPayAmounts=n},okFun:function(){var n=this;return c()(i.a.mark(function t(){var a,o,c,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=n.income){t.next=3;break}return n.msg("请输入支付金额！"),t.abrupt("return");case 3:if(""!=n.cardNumber){t.next=6;break}return n.msg("付款码不能为空！"),t.abrupt("return");case 6:if(!((a=Number(n.income))<0)){t.next=10;break}return n.msg("支付金额必须为非负数！"),t.abrupt("return");case 10:if(!(a>n.needPayAmounts)){t.next=13;break}return n.msg("支付过多！"),t.abrupt("return");case 13:return o="",a>=n.needPayAmounts?o=0:a<n.needPayAmounts&&(o=1),c={params:{accnt:n.selectedTableInfo.accnt,payCode:n.payCode,coi:o,charge:a,cardNo:n.cardNumber,remarks:n.remarks}},t.next=18,e.i(A.b)("/pos/router?method=updateCheckOut",c);case 18:r=t.sent,r&&0==r.resultCode&&(n.msg("支付成功！"),r.data&&r.data.billNo?n.$router.push("/mobileOrdering/index"):n.$router.push("/mobileOrdering/pay"));case 20:case"end":return t.stop()}},t,n)}))()},msg:function(n){e.i(d.Toast)({message:n,position:"middle",duration:3e3})}},watch:{income:function(n){this.income=this.income.replace(/[^\d.]/g,""),this.income=this.income.replace(/\.{2,}/g,"."),this.income=this.income.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.income=this.income.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.income.indexOf(".")<0&&""!=this.income&&(this.income=parseFloat(this.income).toString())},cardNumber:function(n){this.cardNumber=this.cardNumber.replace(/[^\d]/g,"")}}}},729:function(n,t,e){t=n.exports=e(455)(!0),t.push([n.i,".container-scanCode[data-v-413207cc]{padding-top:46px;padding-bottom:20px}.container-scanCode .container-main[data-v-413207cc]{padding:0 14px;background-color:#fff}.container-scanCode .container-main .list[data-v-413207cc]{padding-left:18px;background-color:#fff}.container-scanCode .container-main .list .item[data-v-413207cc]{height:65px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid #ddd;padding-right:17px}.container-scanCode .container-main .list .item .left[data-v-413207cc]{font-size:14px;color:#666}.container-scanCode .container-main .list .item .right[data-v-413207cc]{width:70%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:14px;color:#333}.container-scanCode .container-main .list .item .right input[data-v-413207cc]{text-align:right;outline:none;border:none;width:100%}.container-scanCode .container-main .list .item .right .iconfont[data-v-413207cc]{color:#a8acb8}.container-scanCode .container-main .list .item[data-v-413207cc]:last-child{border-bottom:none}.container-scanCode .container-main .list .quantity .right .iconfont[data-v-413207cc]{color:#c4ad68;font-size:30px}.container-scanCode .container-main .list .quantity .right .num[data-v-413207cc]{margin:0 20px}.container-scanCode .btn[data-v-413207cc]{margin:20px 15px 0;height:40px;line-height:40px;background:#c6af6c;border-radius:5px;font-size:14px;color:#fff}.container-scanCode .scan[data-v-413207cc]{height:100%}.container-scanCode .scan #bcid[data-v-413207cc]{width:100%;position:absolute;left:0;right:0;top:0;bottom:3rem;text-align:center;color:#fff;background:#ccc}.container-scanCode .scan footer[data-v-413207cc]{position:absolute;left:0;bottom:1rem;height:2rem;line-height:2rem;z-index:2}","",{version:3,sources:["E:/works/vue/mipos-front/src/components/pages/mobileOrdering/pay/scanCode.vue"],names:[],mappings:"AACA,qCACE,iBAAkB,AAClB,mBAAqB,CACtB,AACD,qDACE,eAAgB,AAChB,qBAA0B,CAC3B,AACD,2DACE,kBAAmB,AACnB,qBAAuB,CACxB,AACD,iEACE,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,8BAA+B,AACvC,6BAA8B,AAC9B,kBAAoB,CACrB,AACD,uEACE,eAAgB,AAChB,UAAe,CAChB,AACD,wEACE,UAAW,AACX,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,eAAgB,AAChB,UAAe,CAChB,AACD,8EACE,iBAAkB,AAClB,aAAc,AACd,YAAa,AACb,UAAY,CACb,AACD,kFACE,aAAe,CAChB,AACD,4EACE,kBAAoB,CACrB,AACD,sFACE,cAAe,AACf,cAAgB,CACjB,AACD,iFACE,aAAe,CAChB,AACD,0CACE,mBAAoB,AACpB,YAAa,AACb,iBAAkB,AAClB,mBAAoB,AACpB,kBAAmB,AACnB,eAAgB,AAChB,UAAe,CAChB,AACD,2CACE,WAAa,CACd,AACD,iDACE,WAAY,AACZ,kBAAmB,AACnB,OAAQ,AACR,QAAS,AACT,MAAO,AACP,YAAa,AACb,kBAAmB,AACnB,WAAY,AACZ,eAAiB,CAClB,AACD,kDACE,kBAAmB,AACnB,OAAQ,AACR,YAAa,AACb,YAAa,AACb,iBAAkB,AAClB,SAAW,CACZ",file:"scanCode.vue",sourcesContent:["\n.container-scanCode[data-v-413207cc] {\n  padding-top: 46px;\n  padding-bottom: 20px;\n}\n.container-scanCode .container-main[data-v-413207cc] {\n  padding: 0 14px;\n  background-color: #ffffff;\n}\n.container-scanCode .container-main .list[data-v-413207cc] {\n  padding-left: 18px;\n  background-color: #fff;\n}\n.container-scanCode .container-main .list .item[data-v-413207cc] {\n  height: 65px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  border-bottom: 1px solid #ddd;\n  padding-right: 17px;\n}\n.container-scanCode .container-main .list .item .left[data-v-413207cc] {\n  font-size: 14px;\n  color: #666666;\n}\n.container-scanCode .container-main .list .item .right[data-v-413207cc] {\n  width: 70%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  font-size: 14px;\n  color: #333333;\n}\n.container-scanCode .container-main .list .item .right input[data-v-413207cc] {\n  text-align: right;\n  outline: none;\n  border: none;\n  width: 100%;\n}\n.container-scanCode .container-main .list .item .right .iconfont[data-v-413207cc] {\n  color: #a8acb8;\n}\n.container-scanCode .container-main .list .item[data-v-413207cc]:last-child {\n  border-bottom: none;\n}\n.container-scanCode .container-main .list .quantity .right .iconfont[data-v-413207cc] {\n  color: #c4ad68;\n  font-size: 30px;\n}\n.container-scanCode .container-main .list .quantity .right .num[data-v-413207cc] {\n  margin: 0 20px;\n}\n.container-scanCode .btn[data-v-413207cc] {\n  margin: 20px 15px 0;\n  height: 40px;\n  line-height: 40px;\n  background: #c6af6c;\n  border-radius: 5px;\n  font-size: 14px;\n  color: #ffffff;\n}\n.container-scanCode .scan[data-v-413207cc] {\n  height: 100%;\n}\n.container-scanCode .scan #bcid[data-v-413207cc] {\n  width: 100%;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 3rem;\n  text-align: center;\n  color: #fff;\n  background: #ccc;\n}\n.container-scanCode .scan footer[data-v-413207cc] {\n  position: absolute;\n  left: 0;\n  bottom: 1rem;\n  height: 2rem;\n  line-height: 2rem;\n  z-index: 2;\n}\n"],sourceRoot:""}])},811:function(n,t,e){var a=e(729);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e(456)("379e4f9b",a,!0)},910:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"container-scanCode"},[e("headerUsually",{attrs:{btnShow:"true",titleText:"扫码支付",url:"/mobileOrdering/pay"}}),n._v(" "),e("consumptionDetails",{on:{emitConsumptionDetails:function(t){n.consumptionDetailsFun(t)}}}),n._v(" "),e("div",{staticClass:"container-main"},[e("div",{staticClass:"list"},[e("div",{staticClass:"item quantity"},[e("div",{staticClass:"left"},[n._v("付款码")]),n._v(" "),e("div",{staticClass:"right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.cardNumber,expression:"cardNumber"}],attrs:{type:"text"},domProps:{value:n.cardNumber},on:{input:function(t){t.target.composing||(n.cardNumber=t.target.value)}}})])]),n._v(" "),e("div",{staticClass:"item quantity"},[e("div",{staticClass:"left"},[n._v("实收")]),n._v(" "),e("div",{staticClass:"right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.income,expression:"income"}],attrs:{type:"text"},domProps:{value:n.income},on:{input:function(t){t.target.composing||(n.income=t.target.value)}}})])]),n._v(" "),e("div",{staticClass:"item remarks"},[e("div",{staticClass:"left"},[n._v("备注")]),n._v(" "),e("div",{staticClass:"right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.remarks,expression:"remarks"}],attrs:{type:"text"},domProps:{value:n.remarks},on:{input:function(t){t.target.composing||(n.remarks=t.target.value)}}})])])])]),n._v(" "),e("div",{staticClass:"btn",on:{click:function(t){n.okFun()}}},[n._v("确定")])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=20.e162befd74c215f84910.js.map